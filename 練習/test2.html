<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
</head>

<body>
    <script>
        document.write("<h1>h1</h1>");
        document.write("<p>p</p>");
    </script>
    <button type="button" onclick="alert('ようこそ')">クリック</button>

    <p id="change">
        1
    </p>
    <script>
        function change() {
            x = document.getElementById("change"); // 找到元素
            console.log(x.innerHTML);
            if (x.innerHTML.match(/\d+/g)) {
                x.innerHTML = Number(x.innerHTML) + 1; // 改变内容; // 改变内容
            }
            if (x.innerHTML == 11) {
                x.innerHTML = 1;
            }

        }
    </script>
    <button type="button" onclick="change()">クリック</button>

    <script>
        function change2() {
            btnstyle = document.getElementById('mybtn')
            console.log(btnstyle.style);
            iro = btnstyle.style["backgroundColor"];
            if (iro.match("red")) {
                btnstyle.style["backgroundColor"] = "yellow";
                btnstyle.style["width"] = "200px";
            } else {
                btnstyle.style["backgroundColor"] = "red";
                btnstyle.style["width"] = "100px";
            }






        }
    </script>
    <button type="button" onclick="change2()" id="mybtn" style="background-color:red; width: 100px;">ok</button>


    <button onclick="for_grammar()">for</button>

    <script>
        function for_grammar() {
            var x = "";
            for (var i = 0; i < 5; i++) {
                x += "该数字为 " + i + "<br>";
                console.log(x);
            }
            document.getElementById("demo").innerHTML = x;

        }
    </script>


    <button onclick="for_in_grammar()">for_in</button>

    <script>
        function for_in_grammar() {
            var key;
            var val = "";
            var person = {
                fname: "Bill",
                lname: "Gates",
                age: 56
            };
            list: { //标签

                for (key in person) {
                    val = val + key + ":" + person[key] + "<br>";
                    break list; //跳出标签
                    //for文只会执行一次
                }

            }

            document.getElementById("demo").innerHTML = val;
        }
    </script>

    <button onclick="check_array()">check_array</button>
    <script>
        function check_array() {

            var fruits = ["Banana", "Orange", "Apple", "Mango"]; //配列
            //fruits = 1;
            document.getElementById("demo").innerHTML = isArray(fruits); //判断結界

            function isArray(myArray) {

                console.log(myArray.constructor);
                console.log(myArray.constructor.toString().indexOf("Array") > -1)

                var t_or_f = myArray.constructor.toString().indexOf("Array") > -1;
                //変数の構造関数戻って文字列変換”Array”存在するかどうかチェック
                var keeka = t_or_f == true ? "配列です" : "配列ではない";
                return keeka
            }
        }
    </script>

    <script>
        var y = "5";
        var x = -y;
        var a = 1 - x;
        var z = typeof a;

        console.log(z);
    </script>


    <script>
        function moji_change() {
            var str = document.getElementById("demo").innerHTML;
            //var txt = str.replace(/[\u4E00-\u9FA5]/g, "クリア");//漢字あれば漢字をクリアに置換
            var txt = /[\u4E00-\u9FA5]/.test(str) ? "クリア" : str; //漢字あれば全部クリアに置換

            document.getElementById("demo").innerHTML = txt;
        }
    </script>
    <button onclick="moji_change()">moji_change</button>

    <script>
        //try と　catch
        var error_msg = "";

        function error_test() {
            try {
                adddlert("ここはあえてalertをつづりミス");
            } catch (e) {

                error_msg = e.message;
                console.log(e)
                alert(e);
            }
        }
    </script>

    <button onclick="error_test()">error_test</button>

    <script>
        //throw
        function test_finally() {
            var message, x;
            message = document.getElementById("demo");

            x = document.getElementById("test_num").value;
            try {
                if (x == "") throw "NULL";
                if (isNaN(x)) throw "NaN";
                x = Number(x);
                if (x > 10) throw ">10";
                if (x < 5) throw "<5";
                message.innerHTML = "5~10";
            } catch (get_throw) {
                message.innerHTML = get_throw;
            } finally { //try,catch関わらず実行
                document.getElementById("test_num").value = "";
            }
        }
    </script>

    <input id="test_num" type="text">
    <button type="button" onclick="test_finally()">test_finally</button>





    <p id="demo"></p>


    <script>
        //メール有効性評価
        function validateForm() {
            var x = document.forms["myForm"]["email"].value;
            var atpos = x.indexOf("@");
            var dotpos = x.lastIndexOf(".");
            if (atpos < 1 || dotpos < atpos + 2 || dotpos + 2 >= x.length) {
                alert("不是一个有效的 e-mail 地址");
                return false;
            }
        }
    </script>


    <form name="myForm" action="" onsubmit="return validateForm();" method="post">
        Email: <input type="text" name="email">
        <input type="submit" value="GO">
    </form>



    <script>
        function check_num() {
            var inpObj = document.getElementById("id1");
            if (inpObj.checkValidity() == false) { //checkValidity inputの値チェック
                document.getElementById("demo").innerHTML = inpObj.validationMessage; //エラーメッセージ
            } else {
                document.getElementById("demo").innerHTML = "人間";
            }
        }
    </script>
    <p>年齢</p>
    <input id="id1" type="number" min="0" max="150" required>
    <button onclick="check_num()">チェック</button>





    <script>
        function new_check() {
            var txt = "";
            var inpObj = document.getElementById("id2");
            var validity_array = inpObj.validity;

            //値が配列の中存在するかどうか
            function inArray(values, array) {
                for (var key in array) {
                    if (array[key] == values) {
                        return true;

                    }
                }
                return false;
            }

            //値のキーを取り出す
            function getKey(values, array) {
                for (var key in array) {
                    if (array[key] == values) {
                        return key;

                    }
                }
                return null;
            }
            //キーの値取り出す
            function getValue(key, array) {
                var values;

                values = array[key];
                values = values === undefined ? null : values;
                return values;
            }


            // 判断输入是否为数字
            function isNumeric(n) {
                return !isNaN(parseFloat(n)) && isFinite(n);
                //parseFloat(n)文字列数字化
                //isFinite(n)数字無限ではないかどうか
            }

            if (!isNumeric(inpObj.value)) { //isNumeric 数字判断
                txt = "数字ではない";
            } else if (inArray(true, validity_array)) { //validity　入力チェック

                txt = getKey(true, validity_array) + "が正しくではない";

            } else {
                txt = "正しい";
            }
            document.getElementById("demo").innerHTML = txt;
        }
    </script>


    <input id="id2" type="number" min="1" max="100" required>
    <button onclick="new_check()">new_check</button>

    <script>
        function getKey(values, array) {
            for (var key in array) {
                if (array[key] == values) {
                    return key;

                }
            }
            return null;
        }

        function check_form() {
            var getInp = document.getElementById("form").getElementsByTagName("input");
            for (var i in getInp) {

                if (i == "length") break;

                Validity(getInp[i]);

            }
        }

        //入力エラーチェック
        function Validity(inpObj) {

            var validity_array = inpObj.validity;

            inpObj.setCustomValidity(''); //提示初期化


            if (inpObj.checkValidity() == false) {

                if (inpObj.value == "") {
                    inpObj.setCustomValidity("入力してください!!!!!");
                }

                var inpError = getKey(true, validity_array);

                switch (inpError) { //既存規則
                    case "rangeUnderflow":
                        inpObj.setCustomValidity("小さい");
                        break;
                    case "rangeOverflow":
                        inpObj.setCustomValidity("大きい");
                        break;

                };

            } else {

                switch (inpObj.value) { //入力禁止規則
                    case "111":
                        inpObj.setCustomValidity("1!!!!!");
                        break;
                    case "222":
                        inpObj.setCustomValidity("2!!!!!");
                        break;

                };

                var rule1 = /^[0-9]{8}$/; //正規表現式定義

                switch (inpObj.id) { //idで絞り込む
                    case "1":
                        rule1.test(inpObj.value) ? "" : inpObj.setCustomValidity("0-9"); //検証
                        break;

                };


            }


        }
    </script>

    <form id="form" action="" onsubmit="return confirm('確認しますか？');" method="post">
        <input id="id99" type="number" min="100" max="300" required>
        <input type="text" id="1" required>
        <input type="time" id="2" required>
        <input type="date" id="3" required>
        <input type="submit" onclick="check_form()">
    </form>


    <script>
        var name = "A",
            age = 17;
        var obj = {
            name: "B",
            objAge: this.age,
            myfun: function () {
                console.log(this.name + "年齢" + this.age);

            }

        };

        var obj2 = {
            name: "C",
            age: 100
        };

        obj.objAge;
        obj.myfun();
        obj.myfun.call(obj2);
        obj.myfun.apply(obj2);
        obj.myfun.bind(obj2)();
    </script>

    <script>
        //JSON
        var text = '{ "sites" : [' +
            '{ "name":"Runoob" , "url":"www.runoob.com" },' +
            '{ "name":"Google" , "url":"www.google.com" },' +
            '{ "name":"Taobao" , "url":"www.taobao.com" } ]}';
        //JavaScript文字列でJSONデータ作成
        var obj = JSON.parse(text); //JSON.parseで文字列をJavaScript対象を変換
    </script>

    <script>
        setTimeout(function () {
            console.log("First");
            setTimeout(function () {
                console.log("Second");
                setTimeout(function () {
                    console.log("Third");
                }, 3000);
            }, 4000);
        }, 1000);

        new Promise(function (resolve, reject) {
            setTimeout(function () {
                console.log("First");
                resolve();
            }, 1000);
        }).then(function () {
            return new Promise(function (resolve, reject) {
                setTimeout(function () {
                    console.log("Second");
                    resolve();
                }, 4000);
            });
        }).then(function () {
            setTimeout(function () {
                console.log("Third");
            }, 3000);
        });

        new Promise(function (resolve, reject) {
            var a = 0;
            var b = 0;
            if (b == 0) reject("Diveide zero");
            else resolve(a / b);
        }).then(function (value) {
            console.log("a / b = " + value);
        }).catch(function (err) {
            console.log(err);
        }).finally(function () {
            console.log("End");
        });

        new Promise(function (resolve, reject) {
            console.log(1111);
            resolve(2222);
        }).then(function (value) {
            console.log(value);
            return 3333;
        }).then(function (value) {
            console.log(value);
            throw "An error";
        }).catch(function (err) {
            console.log(err);
        });
        //関数取り出す
        function print(delay, message) {
            return new Promise(function (resolve, reject) {
                setTimeout(function () {
                    console.log(message);
                    resolve();
                }, delay);
            });
        }

        print(1000, "First").then(function () {
            return print(4000, "Second");
        }).then(function () {
            print(3000, "Third");
        });


        async function asyncFunc() {
            await print(1000, "First");
            await print(4000, "Second");
            await print(3000, "Third");
        }
        asyncFunc();
    </script>

    <script>
        //自己実行
        (function () {
            var x = "Hello!!";
        })();
        // ES5
        var x = function (x, y) {
            return x * y;
        }

        // ES6
        const x = (x, y) => x * y;
    </script>

    <script>
        function findMax() {
            var i, max = arguments[0];

            if (arguments.length < 2) return max;

            for (i = 0; i < arguments.length; i++) {
                if (arguments[i] > max) {
                    max = arguments[i];
                }
            }
            return max;
        }

        function sumAll() {
            var i, sum = 0;
            for (i = 0; i < arguments.length; i++) {
                sum += arguments[i];
            }
            return sum;
        }
    </script>


    <script>
        var a = 5; // 初始化 x

        elem = document.getElementById("demo"); // 查找元素 
        elem.innerHTML = a + "" + b;
        var b = 7;
    </script>




    <script>
        /*是否带有小数*/
        function isDecimal(strValue) {
            var objRegExp = /^\d+\.\d+$/;
            return objRegExp.test(strValue);
        }

        /*校验是否中文名称组成 */
        function ischina(str) {
            var reg = /^[\u4E00-\u9FA5]{2,4}$/; /*定义验证表达式*/
            return reg.test(str); /*进行验证*/
        }

        /*校验是否全由8位数字组成 */
        function isStudentNo(str) {
            var reg = /^[0-9]{8}$/; /*定义验证表达式*/
            return reg.test(str); /*进行验证*/
        }

        /*校验电话码格式 */
        function isTelCode(str) {
            var reg = /^((0\d{2,3}-\d{7,8})|(1[3584]\d{9}))$/;
            return reg.test(str);
        }

        /*校验邮件地址是否合法 */
        function IsEmail(str) {
            var reg = /^\w+@[a-zA-Z0-9]{2,10}(?:\.[a-z]{2,4}){1,3}$/;
            return reg.test(str);
        }
    </script>


    <script>
        console.log('%d', 123);
        console.log("%c\%c表示css样式", 'color: red;font-size: 30px;font-weight: bold;text-decoration: underline;');

        console.log("%c%s",
            "color: red; background: yellow;",
            "\
             ┏━┓      ┏━┓\n\            ┏┛ ┻━━━━━━┛ ┻┓\n\            ┃            ┃\n\
            ┃    ━━━     ┃\n\            ┃ ┳┛      ┗┳ ┃\n\            ┃            ┃\n\
            ┃    ━┻━     ┃\n\            ┃            ┃\n\            ┗━┓        ┏━┛\n\
              ┃        ┃ バグなし\n\              ┃        ┃ 順調リリース\n\              ┃        ┗━━━┓\n\
              ┃            ┣┓\n\              ┃           ┏┛\n\              ┗┓ ┓ ┏━┳ ┓ ┏┛ \n\
               ┃━┫━┫ ┃━┫━┫\n\               ┗ ┻ ┛ ┗ ┻ ┛\n"
        );

        console.log("%c    ",
            "background: url() no-repeat left center;font-size: 60px;", "\n");
    </script>



</body>

</html>